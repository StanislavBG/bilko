{
  "$schema": "./manifest.schema.json",
  "version": "1.0.0",
  "lastUpdated": "2026-01-25T08:45:00Z",
  "primaryDirective": "ARCH-000",
  "rules": {
    "ARCH-000": {
      "id": "ARCH-000",
      "title": "Primary Directive: Rules-First Development",
      "path": "rules/architecture/000-primary-directive.md",
      "partition": "architecture",
      "priority": "ABSOLUTE",
      "version": "2.0.0",
      "triggers": ["*"],
      "dependencies": [],
      "crossReferences": ["ARCH-000-A", "ARCH-000-B", "ARCH-010"],
      "description": "NO CODE SHALL BE WRITTEN WITHOUT FIRST CONSULTING THE RULES."
    },
    "ARCH-000-A": {
      "id": "ARCH-000-A",
      "title": "Founding Principle: Orchestrator Pattern",
      "path": "rules/architecture/000-A-orchestrator-pattern.md",
      "partition": "architecture",
      "priority": "ABSOLUTE",
      "version": "1.0.0",
      "triggers": ["orchestrat", "external", "proxy", "trace"],
      "dependencies": ["ARCH-000"],
      "crossReferences": ["ARCH-003"],
      "description": "ALL EXTERNAL COMMUNICATION MUST FLOW THROUGH THE ORCHESTRATION LAYER."
    },
    "ARCH-000-B": {
      "id": "ARCH-000-B",
      "title": "Founding Principle: Headless Operation",
      "path": "rules/architecture/000-B-headless-operation.md",
      "partition": "architecture",
      "priority": "ABSOLUTE",
      "version": "1.0.0",
      "triggers": ["headless", "api-first", "programmatic", "auto-sync", "automation"],
      "dependencies": ["ARCH-000"],
      "crossReferences": ["INT-002"],
      "description": "ALL EXTERNAL SERVICE CONFIGURATION MUST BE AUTOMATED AND PROGRAMMATIC."
    },
    "ARCH-001": {
      "id": "ARCH-001",
      "title": "Core Architecture Principles",
      "path": "rules/architecture/001-core-principles.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "2.0.0",
      "triggers": ["architecture", "principle", "core", "express", "react", "tailwind", "dark mode"],
      "dependencies": ["ARCH-000"],
      "crossReferences": [],
      "description": "Foundational technology choices and architectural patterns."
    },
    "ARCH-002": {
      "id": "ARCH-002",
      "title": "Rule Maintenance",
      "path": "rules/architecture/002-rule-maintenance.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.1.0",
      "triggers": ["rule", "rules", "modify rule", "create rule", "new rule", "update rule"],
      "dependencies": ["ARCH-000"],
      "crossReferences": ["ARCH-010"],
      "description": "How to create, modify, and version rules."
    },
    "ARCH-003": {
      "id": "ARCH-003",
      "title": "Orchestration Layer",
      "path": "rules/architecture/003-orchestration-layer.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": ["orchestrat", "proxy", "external", "n8n", "api call", "trace", "logging"],
      "dependencies": ["ARCH-000", "INT-003"],
      "crossReferences": ["DATA-002", "INT-001"],
      "description": "The intelligent proxy between web app and external services."
    },
    "ARCH-004": {
      "id": "ARCH-004",
      "title": "Development Pacing",
      "path": "rules/architecture/004-development-pacing.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": ["slow", "incremental", "verify", "consult", "explain", "go slow", "pacing"],
      "dependencies": ["ARCH-000"],
      "crossReferences": [],
      "description": "Move slowly, build incrementally, verify before building."
    },
    "ARCH-005": {
      "id": "ARCH-005",
      "title": "System Boundaries",
      "path": "rules/architecture/005-system-boundaries.md",
      "partition": "architecture",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["boundary", "replit", "n8n", "separation", "owns", "ownership"],
      "dependencies": ["ARCH-000", "ARCH-008"],
      "crossReferences": ["ARCH-007", "ARCH-008"],
      "description": "Defines boundaries between Replit app and external systems."
    },
    "ARCH-007": {
      "id": "ARCH-007",
      "title": "System Purpose",
      "path": "rules/architecture/007-system-purpose.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.1.0",
      "triggers": ["purpose", "mission", "overview", "system", "what is"],
      "dependencies": [],
      "crossReferences": [],
      "description": "Defines the overall system purpose and mission."
    },
    "ARCH-008": {
      "id": "ARCH-008",
      "title": "Agent Coordination",
      "path": "rules/architecture/008-agent-coordination.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "2.1.0",
      "triggers": ["agent", "coordination", "ownership", "project", "replit", "n8n"],
      "dependencies": ["ARCH-007"],
      "crossReferences": ["ARCH-003", "INT-003"],
      "description": "Defines ownership boundaries between Replit and n8n agents."
    },
    "INT-003": {
      "id": "INT-003",
      "title": "Orchestrator Communication Contract",
      "path": "rules/integration/003-orchestrator-contract.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "2.1.0",
      "triggers": ["contract", "webhook", "request", "response", "payload", "format"],
      "dependencies": ["ARCH-007", "ARCH-003"],
      "crossReferences": ["ARCH-003", "INT-001"],
      "description": "Technical contract for orchestrator communication."
    },
    "INT-004": {
      "id": "INT-004",
      "title": "n8n Self-Hosting Setup Guide",
      "path": "rules/integration/004-n8n-setup.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "1.1.0",
      "triggers": ["self-host", "n8n setup", "n8n project", "deploy n8n"],
      "dependencies": ["ARCH-007"],
      "crossReferences": ["INT-003", "ARCH-008"],
      "description": "Complete setup guide for self-hosting n8n on Replit."
    },
    "HUB-001": {
      "id": "HUB-001",
      "title": "Hub Layout",
      "path": "rules/hub/001-layout.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "1.3.0",
      "triggers": ["hub", "layout", "sidebar", "navigation", "shell", "header"],
      "dependencies": ["ARCH-001", "UI-001"],
      "crossReferences": ["UI-001"],
      "description": "Defines the Application Hub shell layout structure."
    },
    "HUB-002": {
      "id": "HUB-002",
      "title": "Access Control",
      "path": "rules/hub/002-access-control.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["access", "control", "role", "admin", "user", "permission", "auth"],
      "dependencies": ["ARCH-001"],
      "crossReferences": [],
      "description": "Defines how users are granted access to Hub applications."
    },
    "HUB-003": {
      "id": "HUB-003",
      "title": "Nested Navigation Pattern",
      "path": "rules/hub/003-nested-navigation.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "2.0.0",
      "triggers": ["nested nav", "secondary nav", "tertiary nav", "multi-level", "navigation levels"],
      "dependencies": ["HUB-001", "UI-001"],
      "crossReferences": ["UI-003", "UI-004", "UI-006"],
      "description": "Defines optional 2nd and 3rd level navigation within applications (max 3 levels). Includes header pinning, collapse button placement, and user-controlled mobile collapse."
    },
    "APP-LANDING-001": {
      "id": "APP-LANDING-001",
      "title": "Landing Page",
      "path": "rules/apps/landing/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["landing", "public", "sign in", "login page", "unauthenticated"],
      "dependencies": ["ARCH-001"],
      "crossReferences": [],
      "description": "The public entry point for unauthenticated users."
    },
    "APP-HOME-001": {
      "id": "APP-HOME-001",
      "title": "Home Dashboard",
      "path": "rules/apps/home-dashboard/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["home", "dashboard", "overview"],
      "dependencies": ["HUB-001", "HUB-002"],
      "crossReferences": [],
      "description": "The default application aggregating information from all apps."
    },
    "APP-MEMORY-001": {
      "id": "APP-MEMORY-001",
      "title": "Memory Explorer",
      "path": "rules/apps/memory-explorer/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["memory", "explorer", "trace", "debug", "communication"],
      "dependencies": ["HUB-001", "HUB-002", "DATA-002"],
      "crossReferences": ["DATA-002", "ARCH-003"],
      "description": "Admin-only app for viewing orchestration layer traces."
    },
    "DATA-001": {
      "id": "DATA-001",
      "title": "Data Principles",
      "path": "rules/data/001-data-principles.md",
      "partition": "data",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["data", "database", "schema", "model", "drizzle", "postgres", "table"],
      "dependencies": ["ARCH-001"],
      "crossReferences": [],
      "description": "Rules for data models, schemas, and persistence."
    },
    "DATA-002": {
      "id": "DATA-002",
      "title": "Communication Trace Storage",
      "path": "rules/data/002-communication-traces.md",
      "partition": "data",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["trace", "communication", "log", "request", "response", "storage"],
      "dependencies": ["DATA-001", "ARCH-003"],
      "crossReferences": ["ARCH-003", "APP-MEMORY-001"],
      "description": "Schema and practices for storing communication traces."
    },
    "UI-001": {
      "id": "UI-001",
      "title": "UI Principles",
      "path": "rules/ui/001-ui-principles.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["ui", "interface", "component", "styling", "page", "user sees", "layout"],
      "dependencies": ["ARCH-001"],
      "crossReferences": ["HUB-001"],
      "description": "Rules for building user interfaces."
    },
    "UI-002": {
      "id": "UI-002",
      "title": "Endpoint Info Pattern",
      "path": "rules/ui/002-endpoint-info.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["endpoint", "info icon", "api source", "data source", "endpoint info"],
      "dependencies": ["UI-001", "ARCH-001"],
      "crossReferences": [],
      "description": "Pattern for displaying API endpoint metadata via info icons in UI sections."
    },
    "UI-003": {
      "id": "UI-003",
      "title": "Secondary Navigation Pattern",
      "path": "rules/ui/003-secondary-navigation.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["secondary nav", "tabs", "master detail", "two column", "secondary sidebar", "complex layout"],
      "dependencies": ["UI-001", "HUB-001"],
      "crossReferences": ["HUB-001"],
      "description": "Defines when and how to implement secondary navigation within applications."
    },
    "UI-004": {
      "id": "UI-004",
      "title": "Left-Nav Collapsible Behavior",
      "path": "rules/ui/004-left-nav-collapsible.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.4.0",
      "triggers": ["collapse", "collapsible", "left nav", "sidebar collapse", "single letter", "minimize nav", "footer toggle"],
      "dependencies": ["UI-001", "HUB-001"],
      "crossReferences": ["UI-003", "HUB-003", "UI-005", "UI-006"],
      "description": "Consistent collapsible behavior for all left navigation panels with footer-based toggles."
    },
    "UI-005": {
      "id": "UI-005",
      "title": "Minimal Design Principles",
      "path": "rules/ui/005-minimal-design.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.3.0",
      "triggers": ["minimal", "design", "text-only", "no icons", "relative sizing", "black white", "clean"],
      "dependencies": ["UI-001"],
      "crossReferences": ["UI-004", "HUB-003", "UI-006"],
      "description": "Minimal text-only aesthetic with relative sizing and no colored accents."
    },
    "UI-006": {
      "id": "UI-006",
      "title": "Mobile Layout",
      "path": "rules/ui/006-mobile-layout.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.1.0",
      "triggers": ["mobile", "responsive", "collapse", "touch", "breakpoint", "on the go", "small screen"],
      "dependencies": ["UI-001", "HUB-001", "HUB-003"],
      "crossReferences": ["UI-004", "UI-005", "HUB-003"],
      "description": "Mobile-responsive layout with user-controlled collapsible navigation columns."
    },
    "UI-007": {
      "id": "UI-007",
      "title": "Application Actions",
      "path": "rules/ui/007-application-actions.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["action", "action bar", "new button", "actions", "toolbar"],
      "dependencies": ["UI-001", "UI-005"],
      "crossReferences": ["HUB-003"],
      "description": "Consistent pattern for application-level actions separate from navigation."
    },
    "INT-001": {
      "id": "INT-001",
      "title": "n8n Integration Rules",
      "path": "rules/integration/001-n8n-integration.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "2.0.0",
      "triggers": ["n8n", "webhook", "integration", "workflow", "external"],
      "dependencies": ["ARCH-003", "INT-003"],
      "crossReferences": ["ARCH-003", "INT-003", "INT-002", "INT-004"],
      "description": "Rules for building integrations with n8n workflows."
    },
    "INT-002": {
      "id": "INT-002",
      "title": "n8n API Best Practices",
      "path": "rules/integration/002-n8n-api-practices.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "1.3.0",
      "triggers": ["n8n api", "api key", "n8n cloud", "recency", "known issues", "webhook bug", "headless"],
      "dependencies": ["INT-001", "ARCH-003"],
      "crossReferences": ["ARCH-003"],
      "description": "API practices, recency protocol, and known issues registry."
    },
    "ARCH-006": {
      "id": "ARCH-006",
      "title": "Agent Bootstrap Protocol",
      "path": "rules/architecture/006-agent-bootstrap.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": ["bootstrap", "session start", "new session", "how to use rules"],
      "dependencies": ["ARCH-000"],
      "crossReferences": [],
      "description": "How AI developers should bootstrap and use the rule system."
    },
    "ARCH-009": {
      "id": "ARCH-009",
      "title": "Orchestration Dispatch Protocol",
      "path": "rules/architecture/009-orchestration-dispatch.md",
      "partition": "architecture",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["orchestrate", "dispatch", "n8n call", "external call", "app-to-app"],
      "dependencies": ["ARCH-000", "ARCH-003", "INT-003"],
      "crossReferences": ["ARCH-003", "INT-003"],
      "description": "How application code dispatches requests through the Orchestration Layer."
    },
    "AGENT-002": {
      "id": "AGENT-002",
      "title": "Auditor Base Protocol",
      "path": "rules/agent/002-auditor-base.md",
      "partition": "agent",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["audit", "auditor"],
      "dependencies": ["ARCH-000", "ARCH-010"],
      "crossReferences": ["AGENT-002-RULES", "AGENT-002-CODE"],
      "description": "Common persona, behavior, and output standards for all audit agents."
    },
    "AGENT-002-RULES": {
      "id": "AGENT-002-RULES",
      "title": "Rule Audit Sub-Agent",
      "path": "rules/agent/002-rules-audit.md",
      "partition": "agent",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["rule audit", "validate rules", "check rules", "structural integrity"],
      "dependencies": ["AGENT-002", "ARCH-000", "ARCH-002"],
      "crossReferences": ["APP-RULES-001"],
      "description": "Validates rule files for structural integrity, consistency, and coverage."
    },
    "AGENT-002-CODE": {
      "id": "AGENT-002-CODE",
      "title": "Code Audit Sub-Agent",
      "path": "rules/agent/002-code-audit.md",
      "partition": "agent",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["code audit", "code compliance", "verify code", "anti-pattern"],
      "dependencies": ["AGENT-002", "ARCH-000", "ARCH-001"],
      "crossReferences": ["UI-004", "UI-005", "HUB-001", "HUB-003"],
      "description": "Validates that the codebase correctly implements documented rules."
    },
    "AGENT-003": {
      "id": "AGENT-003",
      "title": "Workflow Contract",
      "path": "rules/agent/003-workflow-contract.md",
      "partition": "agent",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["workflow", "workflow contract", "local workflow", "n8n workflow", "execute workflow"],
      "dependencies": ["ARCH-000", "ARCH-003", "INT-003"],
      "crossReferences": ["ARCH-003", "INT-003", "DATA-002", "AGENT-002"],
      "description": "Standard interface for agentic workflows that can run locally or on n8n."
    },
    "AGENT-003-FOOTBALL": {
      "id": "AGENT-003-FOOTBALL",
      "title": "European Football Daily Workflow",
      "path": "rules/agent/003-european-football-daily.md",
      "partition": "agent",
      "priority": "MEDIUM",
      "version": "1.0.0",
      "triggers": ["football", "european football", "daily news", "sentiment analysis", "facebook post"],
      "dependencies": ["AGENT-003", "INT-003"],
      "crossReferences": ["AGENT-003", "INT-003", "DATA-002"],
      "description": "Daily automated European football news aggregation with sentiment analysis and Facebook posting."
    },
    "ARCH-010": {
      "id": "ARCH-010",
      "title": "Exit Directive",
      "path": "rules/architecture/010-exit-directive.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "2.0.0",
      "triggers": ["exit", "complete", "finish", "done", "validate rules", "update rules", "before completing"],
      "dependencies": ["ARCH-000", "ARCH-002"],
      "crossReferences": ["ARCH-000", "AGENT-002"],
      "description": "Validate rule compliance and propose rule updates before completing any task."
    },
    "ARCH-011": {
      "id": "ARCH-011",
      "title": "Documentation Brevity",
      "path": "rules/architecture/011-documentation-brevity.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.1.0",
      "triggers": ["replit.md", "documentation", "readme", "brevity", "grounding"],
      "dependencies": ["ARCH-000"],
      "crossReferences": [],
      "description": "Project documentation provides grounding, not replication of rules."
    },
    "APP-RULES-001": {
      "id": "APP-RULES-001",
      "title": "Rules Explorer",
      "path": "rules/apps/rules-explorer/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["rules explorer", "rule catalog", "rule viewer", "browse rules"],
      "dependencies": ["HUB-001", "HUB-002", "HUB-003", "AGENT-002"],
      "crossReferences": ["AGENT-002", "DATA-003"],
      "description": "Admin-only app for browsing, reading, and auditing the rule system."
    },
    "DATA-003": {
      "id": "DATA-003",
      "title": "Rule Audit Storage",
      "path": "rules/data/003-rule-audits.md",
      "partition": "data",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": ["rule audit", "audit storage", "audit table", "audit schema"],
      "dependencies": ["DATA-001", "AGENT-002"],
      "crossReferences": ["AGENT-002", "APP-RULES-001"],
      "description": "Schema and practices for storing rule audit reports."
    }
  },
  "partitions": {
    "architecture": {
      "path": "rules/architecture/",
      "description": "System-wide architectural rules, principles, and cross-project coordination",
      "readOrder": 0
    },
    "hub": {
      "path": "rules/hub/",
      "description": "Application Hub shell and access control",
      "readOrder": 1
    },
    "ui": {
      "path": "rules/ui/",
      "description": "User interface patterns and components",
      "readOrder": 2
    },
    "data": {
      "path": "rules/data/",
      "description": "Data model and persistence rules",
      "readOrder": 3
    },
    "apps": {
      "path": "rules/apps/",
      "description": "Per-application specific rules",
      "readOrder": 4
    },
    "integration": {
      "path": "rules/integration/",
      "description": "External service integration and cross-project contracts",
      "readOrder": 5
    },
    "agent": {
      "path": "rules/agent/",
      "description": "Agentic workflow protocols for audits and automated reasoning",
      "readOrder": 6
    }
  },
  "routing": {
    "redFlags": [
      { "pattern": "n8n|stripe|external service", "partitions": ["integration"] },
      { "pattern": "database|table|schema|migrate", "partitions": ["data"] },
      { "pattern": "user sees|layout|page|component", "partitions": ["ui"] },
      { "pattern": "hub|sidebar|navigation|access control", "partitions": ["hub"] },
      { "pattern": "endpoint|api route|authentication", "partitions": ["architecture"] },
      { "pattern": "new app|new feature", "partitions": ["apps", "architecture"] },
      { "pattern": "audit|agentic|rule audit|code audit", "partitions": ["agent"] },
      { "pattern": "headless|auto-sync|programmatic|api-first", "partitions": ["architecture", "integration"] }
    ],
    "alwaysInclude": ["ARCH-000", "ARCH-000-A", "ARCH-000-B", "ARCH-006", "ARCH-011"]
  }
}

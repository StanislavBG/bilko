{
  "$schema": "./manifest.schema.json",
  "version": "2.0.0",
  "lastUpdated": "2026-02-03T00:00:00Z",
  "bootstrap": {
    "_instruction": "AI developers: READ ALL RULES in the /rules/ directory. This manifest indexes them for routing, but you must read the actual .md files.",
    "primaryDirective": "ARCH-000",
    "readingOrder": [
      "rules/architecture/000-primary-directive.md",
      "rules/architecture/002-agent-protocol.md"
    ],
    "preferences": {
      "pacing": "Move slowly, verify before building",
      "philosophy": "Rules-first, no over-building",
      "automation": "Never ask user to manually modify systems"
    },
    "stack": {
      "frontend": "React + Tailwind + Shadcn",
      "backend": "Express",
      "database": "PostgreSQL + Drizzle",
      "auth": "Replit Auth"
    }
  },
  "primaryDirective": "ARCH-000",
  "subManifests": {
    "_description": "Sub-manifests and index files provide domain-specific rule groupings. Load these first when working in their domain.",
    "_usage": "Before working in a domain (e.g., n8n), load its index.md first to get current context and cross-references.",
    "_auditCheck": "AGT-002 CHECK 7 validates all subManifests exist and are properly referenced.",
    "entries": [
      {
        "id": "INT-N8N-INDEX",
        "domain": "n8n",
        "path": "rules/integration/n8n/index.md",
        "description": "Entry point for all n8n integration rules. Provides dynamic loading protocol and lists INT-001, INT-002, INT-004.",
        "relatedRules": ["INT-001", "INT-002", "INT-004"],
        "relatedPersonas": ["PER-001"]
      }
    ]
  },
  "rules": {
    "ARCH-000": {
      "id": "ARCH-000",
      "title": "Primary Directive: Rules-First Development",
      "path": "rules/architecture/000-primary-directive.md",
      "partition": "architecture",
      "priority": "ABSOLUTE",
      "version": "3.0.0",
      "triggers": [
        "*",
        "orchestrat",
        "external",
        "proxy",
        "trace",
        "headless",
        "api-first",
        "programmatic",
        "auto-sync",
        "automation"
      ],
      "dependencies": [],
      "crossReferences": [
        "ARCH-002",
        "ARCH-003",
        "INT-002"
      ],
      "description": "Primary directive with founding principles: Rules-First, Orchestrator Pattern, and Headless Operation."
    },
    "ARCH-001": {
      "id": "ARCH-001",
      "title": "System Overview",
      "path": "rules/architecture/001-system-overview.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": [
        "system",
        "overview",
        "purpose",
        "mission",
        "what is",
        "architecture"
      ],
      "dependencies": [
        "ARCH-000"
      ],
      "crossReferences": [
        "ARCH-002",
        "ARCH-003"
      ],
      "description": "System overview including purpose, mission, and high-level architecture."
    },
    "ARCH-002": {
      "id": "ARCH-002",
      "title": "Agent Protocol",
      "path": "rules/architecture/002-agent-protocol.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": [
        "agent",
        "protocol",
        "bootstrap",
        "session start",
        "new session",
        "how to use rules",
        "exit",
        "complete",
        "finish",
        "done"
      ],
      "dependencies": [
        "ARCH-000"
      ],
      "crossReferences": [
        "ARCH-004"
      ],
      "description": "Agent bootstrap and exit protocols for AI developers using the rule system."
    },
    "ARCH-003": {
      "id": "ARCH-003",
      "title": "System Architecture",
      "path": "rules/architecture/003-system-architecture.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": [
        "orchestrat",
        "proxy",
        "external",
        "n8n",
        "api call",
        "trace",
        "logging",
        "dispatch",
        "boundary",
        "coordination",
        "ownership"
      ],
      "dependencies": [
        "ARCH-000",
        "ARCH-001"
      ],
      "crossReferences": [
        "DATA-002",
        "INT-001",
        "INT-003"
      ],
      "description": "System architecture including orchestration layer, agent coordination, and system boundaries."
    },
    "ARCH-004": {
      "id": "ARCH-004",
      "title": "Rule Maintenance",
      "path": "rules/architecture/004-rule-maintenance.md",
      "partition": "architecture",
      "priority": "CRITICAL",
      "version": "1.0.0",
      "triggers": [
        "rule",
        "rules",
        "modify rule",
        "create rule",
        "new rule",
        "update rule",
        "replit.md",
        "documentation"
      ],
      "dependencies": [
        "ARCH-000"
      ],
      "crossReferences": [
        "ARCH-002"
      ],
      "description": "How to create, modify, and version rules. Includes replit.md governance."
    },
    "INT-003": {
      "id": "INT-003",
      "title": "Orchestrator Communication Contract",
      "path": "rules/integration/003-orchestrator-contract.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "2.1.0",
      "triggers": [
        "contract",
        "webhook",
        "request",
        "response",
        "payload",
        "format"
      ],
      "dependencies": [
        "ARCH-001",
        "ARCH-003"
      ],
      "crossReferences": [
        "ARCH-003",
        "INT-001",
        "ENV-001"
      ],
      "description": "Technical contract for orchestrator communication."
    },
    "INT-004": {
      "id": "INT-004",
      "title": "n8n Self-Hosting Setup Guide",
      "path": "rules/integration/n8n/004-setup.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "1.1.0",
      "triggers": [
        "self-host",
        "n8n setup",
        "n8n project",
        "deploy n8n"
      ],
      "dependencies": [
        "ARCH-001"
      ],
      "crossReferences": [
        "INT-003",
        "INT-N8N-INDEX"
      ],
      "description": "Complete setup guide for self-hosting n8n on Replit."
    },
    "HUB-001": {
      "id": "HUB-001",
      "title": "Hub Layout",
      "path": "rules/hub/001-layout.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "1.3.0",
      "triggers": [
        "hub",
        "layout",
        "sidebar",
        "navigation",
        "shell",
        "header"
      ],
      "dependencies": [
        "ARCH-001",
        "UI-001"
      ],
      "crossReferences": [
        "UI-001"
      ],
      "description": "Defines the Application Hub shell layout structure."
    },
    "HUB-002": {
      "id": "HUB-002",
      "title": "Access Control",
      "path": "rules/hub/002-access-control.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "access",
        "control",
        "role",
        "admin",
        "user",
        "permission",
        "auth"
      ],
      "dependencies": [
        "ARCH-001"
      ],
      "crossReferences": [],
      "description": "Defines how users are granted access to Hub applications."
    },
    "HUB-003": {
      "id": "HUB-003",
      "title": "Nested Navigation Pattern",
      "path": "rules/hub/003-nested-navigation.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "2.1.0",
      "triggers": [
        "nested nav",
        "secondary nav",
        "tertiary nav",
        "multi-level",
        "navigation levels",
        "collapse",
        "collapsible",
        "left nav"
      ],
      "dependencies": [
        "HUB-001",
        "UI-001"
      ],
      "crossReferences": [
        "UI-003",
        "UI-006"
      ],
      "description": "Defines optional 2nd and 3rd level navigation within applications (max 3 levels). Includes header pinning, collapsible behavior, and mobile collapse. Merged UI-004."
    },
    "HUB-004": {
      "id": "HUB-004",
      "title": "Unified Navigation",
      "path": "rules/hub/004-unified-navigation.md",
      "partition": "hub",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "navigation",
        "NavItem",
        "sidebar nav",
        "drill-down",
        "nav stack",
        "navigation data",
        "unified nav"
      ],
      "dependencies": [
        "HUB-001",
        "UI-006"
      ],
      "crossReferences": [
        "UI-006",
        "HUB-003"
      ],
      "description": "Unified recursive NavItem interface for N-level navigation. Data-driven approach with stack-based mobile drill-down."
    },
    "APP-LANDING-001": {
      "id": "APP-LANDING-001",
      "title": "Landing Page",
      "path": "rules/apps/landing/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "landing",
        "public",
        "sign in",
        "login page",
        "unauthenticated"
      ],
      "dependencies": [
        "ARCH-001"
      ],
      "crossReferences": [],
      "description": "The public entry point for unauthenticated users."
    },
    "APP-HOME-001": {
      "id": "APP-HOME-001",
      "title": "Home Dashboard",
      "path": "rules/apps/home-dashboard/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "home",
        "dashboard",
        "overview"
      ],
      "dependencies": [
        "HUB-001",
        "HUB-002"
      ],
      "crossReferences": [],
      "description": "The default application aggregating information from all apps."
    },
    "APP-MEMORY-001": {
      "id": "APP-MEMORY-001",
      "title": "Memory Explorer",
      "path": "rules/apps/memory-explorer/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "memory",
        "trace",
        "explorer",
        "communication history"
      ],
      "dependencies": [
        "DATA-002",
        "UI-001"
      ],
      "crossReferences": [
        "DATA-002"
      ],
      "description": "UI for viewing and inspecting communication traces."
    },
    "APP-WORKFLOWS-001": {
      "id": "APP-WORKFLOWS-001",
      "title": "Agentic Workflows Page",
      "path": "rules/apps/agentic-workflows/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.1.0",
      "triggers": [
        "workflow",
        "agentic",
        "n8n",
        "execution",
        "carousel",
        "drill-down",
        "nav stack"
      ],
      "dependencies": [
        "HUB-001",
        "UI-006",
        "DATA-002",
        "INT-005"
      ],
      "crossReferences": [
        "UI-006",
        "INT-005",
        "DATA-002",
        "HUB-003"
      ],
      "description": "Agentic Workflows page with stack-based category/workflow navigation, execution history, and mobile carousel."
    },
    "DATA-001": {
      "id": "DATA-001",
      "title": "Data Principles",
      "path": "rules/data/001-data-principles.md",
      "partition": "data",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "data",
        "database",
        "schema",
        "model",
        "drizzle",
        "postgres",
        "table"
      ],
      "dependencies": [
        "ARCH-001"
      ],
      "crossReferences": [],
      "description": "Rules for data models, schemas, and persistence."
    },
    "DATA-002": {
      "id": "DATA-002",
      "title": "Communication Trace Storage",
      "path": "rules/data/002-communication-traces.md",
      "partition": "data",
      "priority": "HIGH",
      "version": "1.2.0",
      "triggers": [
        "trace",
        "communication",
        "log",
        "request",
        "response",
        "storage",
        "execution",
        "userId",
        "error"
      ],
      "dependencies": [
        "DATA-001",
        "ARCH-003"
      ],
      "crossReferences": [
        "ARCH-003",
        "APP-MEMORY-001",
        "INT-005"
      ],
      "description": "Schema and practices for storing communication traces with execution linkage and error tracking."
    },
    "UI-001": {
      "id": "UI-001",
      "title": "UI Principles",
      "path": "rules/ui/001-ui-principles.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "ui",
        "interface",
        "component",
        "styling",
        "page",
        "user sees",
        "layout"
      ],
      "dependencies": [
        "ARCH-001"
      ],
      "crossReferences": [
        "HUB-001"
      ],
      "description": "Rules for building user interfaces."
    },
    "UI-002": {
      "id": "UI-002",
      "title": "Endpoint Info Pattern",
      "path": "rules/ui/002-endpoint-info.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "endpoint",
        "info icon",
        "api source",
        "data source",
        "endpoint info"
      ],
      "dependencies": [
        "UI-001",
        "ARCH-001"
      ],
      "crossReferences": [],
      "description": "Pattern for displaying API endpoint metadata via info icons in UI sections."
    },
    "UI-003": {
      "id": "UI-003",
      "title": "Secondary Navigation Pattern",
      "path": "rules/ui/003-secondary-navigation.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "secondary nav",
        "tabs",
        "master detail",
        "two column",
        "secondary sidebar",
        "complex layout"
      ],
      "dependencies": [
        "UI-001",
        "HUB-001"
      ],
      "crossReferences": [
        "HUB-001"
      ],
      "description": "Defines when and how to implement secondary navigation within applications."
    },
    "UI-005": {
      "id": "UI-005",
      "title": "Minimal Design Principles",
      "path": "rules/ui/005-minimal-design.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.3.0",
      "triggers": [
        "minimal",
        "design",
        "text-only",
        "no icons",
        "relative sizing",
        "black white",
        "clean"
      ],
      "dependencies": [
        "UI-001"
      ],
      "crossReferences": [
        "HUB-003",
        "UI-006"
      ],
      "description": "Minimal text-only aesthetic with relative sizing and no colored accents."
    },
    "UI-006": {
      "id": "UI-006",
      "title": "Mobile Layout",
      "path": "rules/ui/006-mobile-layout.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.3.0",
      "triggers": [
        "mobile",
        "responsive",
        "collapse",
        "touch",
        "breakpoint",
        "on the go",
        "small screen",
        "carousel",
        "swipe",
        "drill-down"
      ],
      "dependencies": [
        "UI-001",
        "HUB-001",
        "HUB-003"
      ],
      "crossReferences": [
        "UI-005",
        "HUB-003",
        "APP-WORKFLOWS-001"
      ],
      "description": "Mobile-responsive layout with collapsible navigation, drill-down sheets, and swipeable carousels."
    },
    "UI-007": {
      "id": "UI-007",
      "title": "Application Actions",
      "path": "rules/ui/007-application-actions.md",
      "partition": "ui",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "action",
        "action bar",
        "new button",
        "actions",
        "toolbar"
      ],
      "dependencies": [
        "UI-001",
        "UI-005"
      ],
      "crossReferences": [
        "HUB-003"
      ],
      "description": "Consistent pattern for application-level actions separate from navigation."
    },
    "INT-N8N-INDEX": {
      "id": "INT-N8N-INDEX",
      "title": "n8n Integration Rules Index",
      "path": "rules/integration/n8n/index.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "n8n",
        "n8n index",
        "n8n rules",
        "load n8n"
      ],
      "dependencies": [],
      "crossReferences": [
        "INT-001",
        "INT-002",
        "INT-004",
        "PER-001"
      ],
      "description": "Entry point for all n8n rules. Load this first for dynamic context loading."
    },
    "INT-001": {
      "id": "INT-001",
      "title": "n8n Integration Rules (Overview)",
      "path": "rules/integration/n8n/001-overview.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "2.2.0",
      "triggers": [
        "orchestrate",
        "orchestrator"
      ],
      "dependencies": [
        "ARCH-003",
        "INT-003"
      ],
      "crossReferences": [
        "ARCH-003",
        "INT-003",
        "INT-002",
        "INT-004",
        "INT-N8N-INDEX"
      ],
      "description": "Brief overview of n8n integration. See INT-002 for comprehensive practices."
    },
    "INT-002": {
      "id": "INT-002",
      "title": "n8n API Best Practices",
      "path": "rules/integration/n8n/002-api-practices.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "2.0.0",
      "triggers": [
        "n8n",
        "n8n api",
        "api key",
        "n8n cloud",
        "recency",
        "known issues",
        "webhook",
        "webhook bug",
        "headless",
        "webhook path",
        "single source of truth",
        "integration"
      ],
      "dependencies": [
        "ARCH-003"
      ],
      "crossReferences": [
        "ARCH-003",
        "INT-001",
        "INT-003",
        "INT-004",
        "INT-N8N-INDEX"
      ],
      "description": "PRIMARY n8n integration reference. Includes recency protocol, known issues registry, all directives D1-D14. INT-001 provides overview."
    },
    "APP-RULES-001": {
      "id": "APP-RULES-001",
      "title": "Rules Explorer",
      "path": "rules/apps/rules-explorer/001-overview.md",
      "partition": "apps",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "rules explorer",
        "rule catalog",
        "rule viewer",
        "browse rules"
      ],
      "dependencies": [
        "HUB-001",
        "HUB-002",
        "HUB-003"
      ],
      "crossReferences": [
        "DATA-003"
      ],
      "description": "Admin-only app for browsing, reading, and auditing the rule system."
    },
    "DATA-003": {
      "id": "DATA-003",
      "title": "Rule Audit Storage",
      "path": "rules/data/003-rule-audits.md",
      "partition": "data",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "rule audit",
        "audit storage",
        "audit table",
        "audit schema"
      ],
      "dependencies": [
        "DATA-001"
      ],
      "crossReferences": [
        "APP-RULES-001"
      ],
      "description": "Schema and practices for storing rule audit reports."
    },
    "INT-005": {
      "id": "INT-005",
      "title": "Callback Persistence Contract",
      "path": "rules/integration/005-callback-persistence.md",
      "partition": "integration",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "callback",
        "persistence",
        "final output",
        "execution result",
        "workflow callback"
      ],
      "dependencies": [
        "INT-003",
        "DATA-002"
      ],
      "crossReferences": [
        "DATA-002",
        "ENV-001"
      ],
      "description": "Defines how n8n workflow callbacks persist execution results for distribution workflows."
    },
    "ENV-001": {
      "id": "ENV-001",
      "title": "n8n Instance Configuration",
      "path": "rules/env/001-n8n-instance.md",
      "partition": "env",
      "priority": "CRITICAL",
      "version": "2.0.0",
      "triggers": [
        "n8n instance",
        "n8n url",
        "webhook base",
        "callback url",
        "replit url"
      ],
      "dependencies": [
        "ARCH-000"
      ],
      "crossReferences": [
        "ENV-002",
        "INT-002"
      ],
      "description": "n8n instance and Replit application URLs. No dev/prod separation."
    },
    "ENV-002": {
      "id": "ENV-002",
      "title": "n8n Workflow Registry",
      "path": "rules/env/002-n8n-workflow-registry.md",
      "partition": "env",
      "priority": "HIGH",
      "version": "2.0.0",
      "triggers": [
        "workflow registry",
        "workflow artifact",
        "n8n workflow",
        "workflow id"
      ],
      "dependencies": [
        "ENV-001"
      ],
      "crossReferences": [
        "ENV-001",
        "PER-001"
      ],
      "description": "Central registry of all n8n workflows with artifact paths."
    },
    "ENV-003": {
      "id": "ENV-003",
      "title": "Channels",
      "path": "rules/env/003-channels.md",
      "partition": "env",
      "priority": "HIGH",
      "version": "1.0.0",
      "triggers": [
        "channel",
        "facebook page",
        "social media",
        "distribution",
        "public interface"
      ],
      "dependencies": [
        "ENV-001"
      ],
      "crossReferences": [
        "ENV-002"
      ],
      "description": "Registry of all public-facing channels and distribution endpoints."
    }
  },
  "partitions": {
    "architecture": {
      "path": "rules/architecture/",
      "description": "System-wide architectural rules, principles, and cross-project coordination",
      "readOrder": 0
    },
    "hub": {
      "path": "rules/hub/",
      "description": "Application Hub shell and access control",
      "readOrder": 1
    },
    "ui": {
      "path": "rules/ui/",
      "description": "User interface patterns and components. Note: Individual UI components follow partition-level rules (UI-001) generically; component-specific rules are only created when patterns diverge significantly.",
      "readOrder": 2
    },
    "data": {
      "path": "rules/data/",
      "description": "Data model and persistence rules",
      "readOrder": 3
    },
    "apps": {
      "path": "rules/apps/",
      "description": "Per-application specific rules",
      "readOrder": 4
    },
    "integration": {
      "path": "rules/integration/",
      "description": "External service integration and cross-project contracts",
      "readOrder": 5
    },
    "env": {
      "path": "rules/env/",
      "description": "Environment configuration, workflow artifacts, and channel registry",
      "readOrder": 7
    }
  },
  "routing": {
    "redFlags": [
      {
        "pattern": "n8n|stripe|external service|webhook|integration",
        "partitions": [
          "integration"
        ]
      },
      {
        "pattern": "database|table|schema|migrate|trace|storage|persistence",
        "partitions": [
          "data"
        ]
      },
      {
        "pattern": "user sees|layout|page|component|mobile|responsive|minimal|design",
        "partitions": [
          "ui"
        ]
      },
      {
        "pattern": "hub|sidebar|navigation|access control|nested nav",
        "partitions": [
          "hub"
        ]
      },
      {
        "pattern": "endpoint|api route|authentication|principle|pacing|architecture|rule",
        "partitions": [
          "architecture"
        ]
      },
      {
        "pattern": "home|dashboard|landing|workflow page|memory explorer|new app|new feature",
        "partitions": [
          "apps",
          "architecture"
        ]
      },
      {
        "pattern": "headless|auto-sync|programmatic|api-first|orchestrat",
        "partitions": [
          "architecture",
          "integration"
        ]
      },
      {
        "pattern": "environment|dev url|prod url|callback url|workflow artifact|channel|facebook page",
        "partitions": [
          "env"
        ]
      }
    ],
    "alwaysInclude": [
      "ARCH-000",
      "ARCH-002"
    ]
  }
}
